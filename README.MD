# Clean Track RIWI - Sistema de Gesti√≥n de Limpieza

Clean Track RIWI es una aplicaci√≥n web completa dise√±ada para la gesti√≥n y monitoreo eficiente de tareas de limpieza en instalaciones. La plataforma cuenta con dos roles principales: Administradores, que gestionan zonas, usuarios y asignaciones; y Empleados, que registran sus actividades de limpieza a trav√©s de un sistema de validaci√≥n por QR.

El sistema proporciona un monitor en tiempo real del estado de las zonas, un sistema de reportes de productividad y un historial completo de todas las actividades, garantizando un control total sobre la operaci√≥n.



# ‚ú® Caracter√≠sticas Principales

 ## Para Administradores:

Dashboard Interactivo: Visualizaci√≥n de estad√≠sticas clave en tiempo real (limpiezas del d√≠a, zonas pendientes, colaboradores activos).

Gesti√≥n de Zonas (CRUD): Crear, editar y eliminar zonas de limpieza, asignando un identificador QR √∫nico y una foto de referencia.

Gesti√≥n de Usuarios (CRUD): Crear, editar y eliminar usuarios con roles de "Admin" o "Empleado", y gestionar su estado (Activo/Inactivo).

Gesti√≥n de Asignaciones: Asignar manualmente zonas a empleados o usar una funci√≥n de asignaci√≥n aleatoria para distribuir las tareas equitativamente.

Monitor de Zonas en Tiempo Real: Un mapa interactivo que muestra el estado de cada zona (Verde: Limpio, Rojo: Pendiente) con un l√≠mite de tiempo configurable (6 horas).

Generador de Reportes: Sistema de filtrado por fechas y tipo de reporte para analizar la productividad por empleado o el historial general.

Generador de C√≥digos QR: Genera y permite imprimir los c√≥digos QR √∫nicos para cada zona.

## Para Empleados:

Dashboard Personalizado: Visualizaci√≥n de las zonas asignadas para el d√≠a, con su estado actual.

Registro de Limpieza Seguro: Sistema de validaci√≥n mediante escaneo de QR para confirmar que el empleado est√° en la zona correcta.

Subida de Evidencias: Permite tomar una foto como prueba del trabajo realizado, la cual se almacena de forma segura en la nube.

Perfil de Usuario: Visualizaci√≥n de su informaci√≥n personal y de trabajo.

## üõ†Ô∏è Tecnolog√≠as Utilizadas

Frontend:

HTML5

CSS3

JavaScript (ES6+ Modules)

Bootstrap 5 para el dise√±o responsivo.

SweetAlert2 para notificaciones y alertas.

Chart.js para la visualizaci√≥n de datos en el dashboard.

QRCode.js para la generaci√≥n de c√≥digos QR.

Backend:

Node.js con Express.js para la API REST.

PostgreSQL como base de datos relacional.

JWT (JSON Web Tokens) para la autenticaci√≥n y seguridad de rutas.

bcrypt para el hasheo seguro de contrase√±as.

Multer y Multer-S3 para la gesti√≥n de subida de archivos.

Nodemailer para el env√≠o de correos (recuperaci√≥n de contrase√±a).

Base de Datos y Almacenamiento:

PostgreSQL para el almacenamiento de datos.

AWS S3 (Amazon Web Services) para el almacenamiento de im√°genes de evidencia y zonas.

## üöÄ Gu√≠a de Instalaci√≥n y Puesta en Marcha

Sigue estos pasos para clonar, configurar y ejecutar el proyecto en tu entorno local.



# 1. Prerrequisitos

Aseg√∫rate de tener instalado el siguiente software en tu m√°quina:



Node.js (versi√≥n 18.x o superior)

npm (generalmente se instala con Node.js)

Un cliente de PostgreSQL como DBeaver o pgAdmin.

Git para clonar el repositorio.

Una cuenta de AWS para crear un bucket S3.

Una cuenta de Gmail con la "Verificaci√≥n en 2 pasos" activada para generar una contrase√±a de aplicaci√≥n.

# 2. Descarga del Proyecto

Clona el repositorio desde GitHub a tu m√°quina local:



git clone [https://github.com/alejo11102001/CLEAN_TRACK_RIWI]

cd tu-repositorio

# 3. Configuraci√≥n del Backend

Navega a la carpeta del backend:



cd back-end

Instala todas las dependencias del proyecto:



npm install

Crea un archivo .env en la ra√≠z de la carpeta back-end y copia el contenido de .env.example (si existe) o a√±ade las siguientes variables. Este archivo es crucial para guardar tus claves secretas.



# Configuraci√≥n de la Base de Datos PostgreSQL

DB_USER=postgres

DB_HOST=localhost

DB_DATABASE=clean_track_riwi

DB_PASSWORD=tu_contrase√±a_de_postgres

DB_PORT=5432



# Clave Secreta para JSON Web Tokens (JWT)

# Genera una clave aleatoria larga (ej: desde [https://randomkeygen.com/](https://randomkeygen.com/))

JWT_SECRET=tu_clave_secreta_larga_y_aleatoria_aqui



# Credenciales de AWS S3 para almacenamiento de im√°genes

AWS_ACCESS_KEY_ID=tu_aws_access_key_id

AWS_SECRET_ACCESS_KEY=tu_aws_secret_access_key

AWS_S3_BUCKET_NAME=el_nombre_unico_de_tu_bucket_s3

AWS_REGION=la_region_de_tu_bucket # ej: us-east-1



# Credenciales de Gmail para enviar correos (usa una Contrase√±a de Aplicaci√≥n)

EMAIL_USER=tu_correo@gmail.com

EMAIL_PASS=tu_contrase√±a_de_aplicacion_de_16_caracteres

# 4. Configuraci√≥n de la Base de Datos

Abre tu cliente de PostgreSQL (DBeaver/pgAdmin).

Crea una nueva base de datos con el nombre que especificaste en tu archivo .env (ej: cleantrack_db).

Ejecuta el script SQL db.sql (que puedes generar desde DBeaver con "Generar DDL") para crear todas las tablas, tipos y relaciones necesarias.

# 5. Iniciar la Aplicaci√≥n

Debes iniciar tanto el servidor del backend como el del frontend.



Iniciar el Backend:

Abre una terminal en la carpeta back-end y ejecuta:



node app.js

Si todo est√° bien, ver√°s el mensaje: Servidor corriendo en http://localhost:3000.

Iniciar el Frontend:

Abre la carpeta front-end en Visual Studio Code.

Aseg√∫rate de tener la extensi√≥n "Live Server" instalada.

Haz clic derecho en tu archivo index.html (o el de login) y selecciona "Open with Live Server".

Esto abrir√° tu aplicaci√≥n en el navegador, generalmente en http://127.0.0.1:5500.

# ‚òÅÔ∏è Despliegue

La aplicaci√≥n est√° dise√±ada para ser desplegada en servicios modernos con capas gratuitas.



Base de Datos (PostgreSQL): Se recomienda Neon.

Backend (Node.js API): Se recomienda Render. No olvides configurar todas las variables de entorno en el panel de Render.

Frontend (Sitio Est√°tico): Se recomienda Netlify o Vercel.

Pasos post-despliegue:



Actualiza la variable API_BASE_URL en tu archivo front-end/js/api.js para que apunte a la URL de tu backend en Render.

Actualiza la variable resetLink en tu app.js para que apunte a la URL de tu frontend en Netlify.

Actualiza la pol√≠tica de CORS de tu bucket S3 para permitir peticiones desde tu nueva URL de Netlify.

# ‚úíÔ∏è Autores

Abrahan Taborda.

Jeronimo Rodriguez.

Emmanuel Jaramillo.

Luis Ducuara.

Diego Zuluaga.

## coders Van-rossum

# ¬°Gracias por revisar este proyecto!
