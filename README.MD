# Clean Track RIWI - Sistema de GestiÃ³n de Limpieza

Clean Track RIWI es una aplicaciÃ³n web completa diseÃ±ada para la gestiÃ³n y monitoreo eficiente de tareas de limpieza en instalaciones. La plataforma cuenta con dos roles principales: Administradores, que gestionan zonas, usuarios y asignaciones; y Empleados, que registran sus actividades de limpieza a travÃ©s de un sistema de validaciÃ³n por QR.

El sistema proporciona un monitor en tiempo real del estado de las zonas, un sistema de reportes de productividad y un historial completo de todas las actividades, garantizando un control total sobre la operaciÃ³n.



# âœ¨ CaracterÃ­sticas Principales

 ## Para Administradores:

Dashboard Interactivo: VisualizaciÃ³n de estadÃ­sticas clave en tiempo real (limpiezas del dÃ­a, zonas pendientes, colaboradores activos).

GestiÃ³n de Zonas (CRUD): Crear, editar y eliminar zonas de limpieza, asignando un identificador QR Ãºnico y una foto de referencia.

GestiÃ³n de Usuarios (CRUD): Crear, editar y eliminar usuarios con roles de "Admin" o "Empleado", y gestionar su estado (Activo/Inactivo).

GestiÃ³n de Asignaciones: Asignar manualmente zonas a empleados o usar una funciÃ³n de asignaciÃ³n aleatoria para distribuir las tareas equitativamente.

Monitor de Zonas en Tiempo Real: Un mapa interactivo que muestra el estado de cada zona (Verde: Limpio, Rojo: Pendiente) con un lÃ­mite de tiempo configurable (6 horas).

Generador de Reportes: Sistema de filtrado por fechas y tipo de reporte para analizar la productividad por empleado o el historial general.

Generador de CÃ³digos QR: Genera y permite imprimir los cÃ³digos QR Ãºnicos para cada zona.

## Para Empleados:

Dashboard Personalizado: VisualizaciÃ³n de las zonas asignadas para el dÃ­a, con su estado actual.

Registro de Limpieza Seguro: Sistema de validaciÃ³n mediante escaneo de QR para confirmar que el empleado estÃ¡ en la zona correcta.

Subida de Evidencias: Permite tomar una foto como prueba del trabajo realizado, la cual se almacena de forma segura en la nube.

Perfil de Usuario: VisualizaciÃ³n de su informaciÃ³n personal y de trabajo.

## ğŸ› ï¸ TecnologÃ­as Utilizadas

Frontend:

HTML5

CSS3

JavaScript (ES6+ Modules)

Bootstrap 5 para el diseÃ±o responsivo.

SweetAlert2 para notificaciones y alertas.

Chart.js para la visualizaciÃ³n de datos en el dashboard.

QRCode.js para la generaciÃ³n de cÃ³digos QR.

Backend:

Node.js con Express.js para la API REST.

PostgreSQL como base de datos relacional.

JWT (JSON Web Tokens) para la autenticaciÃ³n y seguridad de rutas.

bcrypt para el hasheo seguro de contraseÃ±as.

Multer y Multer-S3 para la gestiÃ³n de subida de archivos.

Nodemailer para el envÃ­o de correos (recuperaciÃ³n de contraseÃ±a).

Base de Datos y Almacenamiento:

PostgreSQL para el almacenamiento de datos.

AWS S3 (Amazon Web Services) para el almacenamiento de imÃ¡genes de evidencia y zonas.

### ğŸ“‚ Estructura del Proyecto
AquÃ­ tienes una visiÃ³n general de la estructura de carpetas y archivos para entender cÃ³mo se organiza el proyecto.
```
â”œâ”€â”€ back-end/
â”‚   â”œâ”€â”€ node_modules/                 # Dependencias del backend (Node.js)
â”‚   â”œâ”€â”€ uploads/                      # Directorio para subir las fotos de evidencia
â”‚   â”œâ”€â”€ .env                          # Variables de entorno para la configuraciÃ³n
â”‚   â”œâ”€â”€ app.js                        # LÃ³gica principal del servidor Express
â”‚   â”œâ”€â”€ db.js                         # ConfiguraciÃ³n y conexiÃ³n a PostgreSQL
â”‚   â”œâ”€â”€ package-lock.json             # Bloqueo de las versiones de dependencias
â”‚   â””â”€â”€ package.json                  # Lista de dependencias del backend
â”œâ”€â”€ data/
â”‚   â””â”€â”€ db.sql                        # Archivo SQL con el esquema de la base de datos
â”œâ”€â”€ front-end/
â”‚   â”œâ”€â”€ css/                          # Hojas de estilo CSS
â”‚   â”‚   â”œâ”€â”€ dashboard_admin.css
â”‚   â”‚   â”œâ”€â”€ styles.css
â”‚   â”‚   â””â”€â”€ zonas_employee.css
â”‚   â”œâ”€â”€ img/                          # ImÃ¡genes y activos del frontend
â”‚   â”œâ”€â”€ js/                           # Archivos JavaScript
â”‚   â”‚   â”œâ”€â”€ api.js                    # LÃ³gica para las llamadas a la API
â”‚   â”‚   â”œâ”€â”€ auth-controller.js        # LÃ³gica para la autenticaciÃ³n
â”‚   â”‚   â”œâ”€â”€ main.js                   # LÃ³gica del dashboard del administrador
â”‚   â”‚   â”œâ”€â”€ reset-password.js         # LÃ³gica para restablecer la contraseÃ±a
â”‚   â”‚   â”œâ”€â”€ service-worker.js         # Service Worker para la funcionalidad offline
â”‚   â”‚   â””â”€â”€ zones_employee.js         # LÃ³gica del portal del empleado
â”‚   â”œâ”€â”€ change_password.html          # PÃ¡gina para cambiar la contraseÃ±a
â”‚   â”œâ”€â”€ dashboard_admin.html          # Panel principal del administrador
â”‚   â”œâ”€â”€ index.html                    # PÃ¡gina de inicio (login)
â”‚   â””â”€â”€ zones_employee.html           # Panel del empleado
â”œâ”€â”€ .gitignore                        # Archivo para ignorar directorios y archivos de Git
â”œâ”€â”€ README.md                         # DescripciÃ³n del proyecto
â”œâ”€â”€ manifest.json                     # Manifiesto de la aplicaciÃ³n web (PWA)
â””â”€â”€ package.json                      # Lista de dependencias del proyecto (root)
```
## ğŸš€ GuÃ­a de InstalaciÃ³n y Puesta en Marcha

Sigue estos pasos para clonar, configurar y ejecutar el proyecto en tu entorno local.



# 1. Prerrequisitos

AsegÃºrate de tener instalado el siguiente software en tu mÃ¡quina:



Node.js (versiÃ³n 18.x o superior)

npm (generalmente se instala con Node.js)

Un cliente de PostgreSQL como DBeaver o pgAdmin.

Git para clonar el repositorio.

Una cuenta de AWS para crear un bucket S3.

Una cuenta de Gmail con la "VerificaciÃ³n en 2 pasos" activada para generar una contraseÃ±a de aplicaciÃ³n.

# 2. Descarga del Proyecto

Clona el repositorio desde GitHub a tu mÃ¡quina local:



git clone [https://github.com/alejo11102001/CLEAN_TRACK_RIWI]

cd tu-repositorio

# 3. ConfiguraciÃ³n del Backend

Navega a la carpeta del backend:



cd back-end

Instala todas las dependencias del proyecto:



npm install

Crea un archivo .env en la raÃ­z de la carpeta back-end y copia el contenido de .env.example (si existe) o aÃ±ade las siguientes variables. Este archivo es crucial para guardar tus claves secretas.



# ConfiguraciÃ³n de la Base de Datos PostgreSQL

DB_USER=postgres

DB_HOST=localhost

DB_DATABASE=clean_track_riwi

DB_PASSWORD=tu_contraseÃ±a_de_postgres

DB_PORT=5432



# Clave Secreta para JSON Web Tokens (JWT)

# Genera una clave aleatoria larga (ej: desde [https://randomkeygen.com/](https://randomkeygen.com/))

JWT_SECRET=tu_clave_secreta_larga_y_aleatoria_aqui



# Credenciales de AWS S3 para almacenamiento de imÃ¡genes

AWS_ACCESS_KEY_ID=tu_aws_access_key_id

AWS_SECRET_ACCESS_KEY=tu_aws_secret_access_key

AWS_S3_BUCKET_NAME=el_nombre_unico_de_tu_bucket_s3

AWS_REGION=la_region_de_tu_bucket # ej: us-east-1



# Credenciales de Gmail para enviar correos (usa una ContraseÃ±a de AplicaciÃ³n)

EMAIL_USER=tu_correo@gmail.com

EMAIL_PASS=tu_contraseÃ±a_de_aplicacion_de_16_caracteres

# 4. ConfiguraciÃ³n de la Base de Datos

Abre tu cliente de PostgreSQL (DBeaver/pgAdmin).

Crea una nueva base de datos con el nombre que especificaste en tu archivo .env (ej: cleantrack_db).

Ejecuta el script SQL db.sql (que puedes generar desde DBeaver con "Generar DDL") para crear todas las tablas, tipos y relaciones necesarias.

# 5. Iniciar la AplicaciÃ³n

Debes iniciar tanto el servidor del backend como el del frontend.



Iniciar el Backend:

Abre una terminal en la carpeta back-end y ejecuta:



node app.js

Si todo estÃ¡ bien, verÃ¡s el mensaje: Servidor corriendo en http://localhost:3000.

Iniciar el Frontend:

Abre la carpeta front-end en Visual Studio Code.

AsegÃºrate de tener la extensiÃ³n "Live Server" instalada.

Haz clic derecho en tu archivo index.html (o el de login) y selecciona "Open with Live Server".

Esto abrirÃ¡ tu aplicaciÃ³n en el navegador, generalmente en http://127.0.0.1:5500.

# â˜ï¸ Despliegue

La aplicaciÃ³n estÃ¡ diseÃ±ada para ser desplegada en servicios modernos con capas gratuitas.



Base de Datos (PostgreSQL): Se recomienda Neon.

Backend (Node.js API): Se recomienda Render. No olvides configurar todas las variables de entorno en el panel de Render.

Frontend (Sitio EstÃ¡tico): Se recomienda Netlify o Vercel.

Pasos post-despliegue:



Actualiza la variable API_BASE_URL en tu archivo front-end/js/api.js para que apunte a la URL de tu backend en Render.

Actualiza la variable resetLink en tu app.js para que apunte a la URL de tu frontend en Netlify.

Actualiza la polÃ­tica de CORS de tu bucket S3 para permitir peticiones desde tu nueva URL de Netlify.

# âœ’ï¸ Autores

Abrahan Taborda.

Jeronimo Rodriguez.

Emmanuel Jaramillo.

Luis Ducuara.

Diego Zuluaga.

## coders Van-rossum

# Â¡Gracias por revisar este proyecto!
